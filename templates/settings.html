{% extends "base.html" %}
{% block content %}

<h1>Settings</h1>

<form action="{{ url_for('settings') }}" method="post" class="auth-form">
    <label>Your Discord Webhook URL</label>
    <input type="text" name="webhook" value="{{ user.webhook_url or '' }}">

    <label>How often to ping you?</label>
    <select name="ping_interval_hours">
        {% for h in range(0, 25) %}
            <option value="{{ h }}"
                {% if user.ping_interval_hours == h %}selected{% endif %}>
                {% if h == 0 %}
                    Disabled (no automatic pings)
                {% elif h == 1 %}
                    Every 1 hour
                {% else %}
                    Every {{ h }} hours
                {% endif %}
            </option>
        {% endfor %}
    </select>

    <button type="submit">Save</button>
</form>

<p>
    Automatic pings are controlled by your chosen interval.
    Manual “Send to Discord” ignores the schedule and can be used anytime.
</p>

{% endblock %}

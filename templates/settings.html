{% extends "base.html" %}
{% block content %}

<div class="page-header">
    <h1>Settings</h1>
    <p class="page-subtext">
        Manage your Discord webhook and how often you want automatic reminders.
    </p>
</div>

<div class="card settings-card">

    <form action="{{ url_for('settings') }}" method="POST">

        <label class="settings-label">Discord Webhook URL</label>
        <input
            type="text"
            name="webhook"
            placeholder="Paste your Discord webhook here"
            value="{{ user.webhook_url or '' }}"
        >
        <p class="settings-note">
            Each user can send their tasks to their own Discord channel.<br>
            Leave this blank if you don't want Discord reminders.
        </p>

        <div class="divider"></div>

        <label class="settings-label">Automatic Ping Interval</label>
        <select name="ping_interval_hours" class="settings-select">
            {% for h in range(0, 25) %}
                <option value="{{ h }}" {% if user.ping_interval_hours == h %}selected{% endif %}>
                    {% if h == 0 %}
                        Disabled â€” only send when I click the button manually
                    {% elif h == 1 %}
                        Every 1 hour
                    {% else %}
                        Every {{ h }} hours
                    {% endif %}
                </option>
            {% endfor %}
        </select>

        <p class="settings-note">
            The system checks every hour. You are pinged only if your chosen interval has passed.
        </p>

        <button class="btn btn-save" type="submit">Save Settings</button>

    </form>

</div>

{% endblock %}
